# 数学知识

## 计算几何

**已知正方形对角线两点坐标，求另外两点坐标**

按照顺时针方向，正方形上四点$A,B,C,D$，两对角线交点$O$。现在已知$A(ax,ay),C(cx,cy)$求另外两点坐标。

令 $\vec{v} = \frac{C-A}{2} = \left(\frac{cx - ax}{2}, \frac{cy - ay}{2}\right)$ ，则有$O = A + \vec{v} = C  - \vec{v} = (ax + vx , ay + vy) = (cx - vx, cy - vy)$

根据正方形的对称性可知
$$
B = (ox - vy, oy + vx) = (ax + vx - vy, cy + vx - vy)\\
D = (ox + vy, oy - vx) = (cx - vx + vy, ay - vx + vy)
$$
令$vp = vx - vy = \frac {cx - ax - cy + ay}{2}$分别代入上式子可得
$$
B = (ax + vp,cy + vp)\\
C = (cx - vp,ay - vp)
$$

## 博弈论

**Lasker’s Nim Game**

$n$堆石子，每次玩家可以从一堆石子中取走若干个石子，或者把一堆石子分成两个非空的堆

考虑暴力的求解每一堆石子的 SG 函数

$$
SG(x) =
\begin{cases}
0 & x= 0\\
\mathrm{mex}\{SG(0)\} = 1 &  x= 1\\
\mathrm{mex}\{SG(x - 1), SG(x-2),\dots,\mathrm{mex}\{SG(y)\oplus SG(z)| (y>0\land z>0 \land y + z = 0)\}\} & x \ge 2
\end{cases}
$$

然后我们打表找规律可以得到

$$
SG(x) =

\begin{cases}
  0 & \text{ if } x=0\\
  x & \text{ if } x= 4k+1 \lor  x =4k+2 \\
  x\oplus 1 & \text{ if } x=4k+3\lor x = 4x+4\\
\end{cases}
$$
